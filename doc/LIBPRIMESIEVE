June 10, 2012
Kim Walisch, <kim.walisch@gmail.com>
http://primesieve.googlecode.com

Contents
========

  1. About the primesieve C++ library
  2. Build libprimesieve (Unix-like OSes)
  3. How to use it
  4. Build primesieve.lib (Windows, MSVC)
  5. How to use it

1. About the primesieve C++ library
===================================

  primesieve has been designed to be usable in other projects, this
  file explains how to compile primesieve as a C++ library i.e.
  libprimesieve and link it with your application.
  By default libprimesieve is built as a static library which causes
  no dependencies, on Unix-like operating systems (Linux, Mac OS X, ...)
  it is also possible to build libprimesieve as a shared library.
  The file USAGE_EXAMPLES contains C++ source code examples that show
  how to generate, count and print primes and k-tuplets (twins,
  triplets, ...) using libprimesieve. 

2. Build libprimesieve (Unix-like OSes)
=======================================

  Open a terminal and cd into the primesieve source code directory.
  The following make commands build libprimesieve using g++ and
  install it together with the PrimeSieve.h and ParallelPrimeSieve.h
  header files to /usr/local (Mac OS X: /usr).

  static libprimesieve (DEFAULT)
  ------------------------------
  $ make lib
  $ sudo make install

  Notes:
  To build libprimesieve as a shared library use `make lib SHARED=yes`.
  To use an alternate C++ compiler use e.g. `make lib CXX=clang++`.

  Makefile help menu
  ------------------
  $ make help           Shows more options

3. How to use it (Unix-like OSes)
=================================

  The sum_primes.cpp example program in the current directory can now
  be compiled by specifying libprimesieve (-lprimesieve flag) at the
  end of the linker command:

  $ g++ doc/sum_primes.cpp -o sum_primes -lprimesieve
  $ ./sum_primes

  OpenMP multi-threading
  ----------------------
  If you want to use ParallelPrimeSieve objects and you have
  built libprimesieve statically then you also have to add the OpenMP
  flag to the linker e.g.:

  $ g++ -o parallel parallel.cpp -lprimesieve -fopenmp

4. Build primesieve.lib (Windows, MSVC)
=======================================

  Open a Visual Studio Command Prompt, cd into the primesieve source
  code directory and run the following command to build primesieve as
  a static library. For ease of use the new primesieve.lib and the
  PrimeSieve.h and ParallelPrimeSieve.h header files are also copied
  to the dist directory.

  > nmake -f Makefile.msvc lib

5. How to use it (Windows, MSVC)
================================

  The sum_primes.cpp example program in the current directory can now
  be compiled by specifying primesieve.lib to the linker:

  > cl /EHsc doc\sum_primes.cpp /I"dist" /link "dist\primesieve.lib"
  > sum_primes.exe

  OpenMP multi-threading
  ----------------------
  Since version 3.5 primesieve requires OpenMP 3.0 or later which is
  currently (February 2012) not supported by Microsoft Visual C++.
  You can either switch to primesieve-3.4
  (http://primesieve.googlecode.com/files/primesieve-3.4-src.zip)
  which builds with OpenMP using Microsoft Visual C++ >= 2005 or use
  an alternate compiler e.g. the Intel C++ Compiler or MinGW.
