January 22, 2012
Kim Walisch, <kim.walisch@gmail.com>
http://primesieve.googlecode.com

Contents
========

  1. About libprimesieve
  2. Build and install libprimesieve     (Unix-like OSes)
  3. How to link against libprimesieve   (Unix-like OSes)
  4. Build primesieve.lib                (Windows, Visual C++)
  5. How to link against primesieve.lib  (Windows, Visual C++)

1. About libprimesieve
======================

  This file explains how to build primesieve as a library a.k.a.
  libprimesieve and how to link it with your C++ application.
  By default libprimesieve is built as a static library which causes
  no dependency, on Unix-like operating systems (Linux, Mac OS X, ...)
  it is also possible to build libprimesieve as a shared library.

  The file USAGE_EXAMPLES contains C++ source code examples that show
  how to generate, count and print primes and prime k-tuplets (twin
  primes, ...) using libprimesieve.

2. Build and install libprimesieve (Unix-like OSes)
===================================================

  Unzip the primesieve source archive, open a terminal and cd into
  the newly created directory, then run:

  $ make lib
  $ sudo make install

  The first make command builds a static libprimesieve using your
  system's default `c++' compiler, the second command installs
  libprimesieve to /usr/local (Linux) or to /usr.

  More build options
  ------------------
  $ make lib SHARED=yes                        Build a shared libprimesieve.
  $ make lib CXX=icpc CXXFLAGS="-O2 -openmp"   Use an alternate C++ compiler, here icpc.
  $ make dist                                  Create a distribution archive.
  $ sudo make install PREFIX=/path             Set the installation path.
  $ sudo make uninstall                        Completely remove libprimesieve.
  $ make help                                  Print all build options.

3. How to link against libprimesieve (Unix-like OSes)
=====================================================

  After having installed libprimesieve you can link against
  libprimesieve by specifying -lprimesieve at the end of the linker
  command e.g.:

  $ c++ examples/count_primes.cpp -lprimesieve

  You must add -fopenmp if:
  -------------------------
  You use ParallelPrimeSieve with a static libprimesieve.

4. Build primesieve.lib (Windows, MSVC)
=======================================

  Unzip the primesieve source archive, open a Visual Studio Command
  Prompt and cd into the newly created directory, then run:

  > nmake -f Makefile.msvc lib
  > nmake -f Makefile.msvc dist

  This builds a static primesieve.lib library using Microsoft's
  Visual C++ compiler and creates a distribution archive ./dist with
  primesieve.lib and the PrimeSieve header files.

5. How to link against primesieve.lib (Windows, MSVC)
=====================================================

  After having created a primesieve.lib distribution archive you can
  link against primesieve.lib by specifying primesieve.lib to the
  linker and including (/I) the PrimeSieve header files:

  > cl examples\count_primes.cpp /EHsc /I "dist" /link "dist\primesieve.lib"
  > count_primes.exe

  primesieve.lib is a static Windows library so it causes no
  dependency if you link against it.
