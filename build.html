<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Build instructions for the primesieve console application and the primesieve C/C++ library.">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <link href="stylesheets/navigation_menu.css" type="text/css" rel="stylesheet">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>primesieve - Build From Source</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>primesieve</h1>
        <h2>Fast C/C++ prime number generator</h2>
        <a href="https://github.com/kimwalisch/primesieve" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">

<div id="container" style="width: 800px; margin-bottom: 35px;">
  <nav id="navigation">
    <ul>
      <li><a href=".">Home</a></li>
      <li><a href="downloads">Downloads</a></li>
      <li><a href="build.html">Build From Source</a></li>
      <li><a href="segmented_sieve.html">Segmented Sieve</a></li>
      <li><a href="api">API Documentation</a></li>
      <li><a href="links.html">Links</a></li>
    </ul>
  </nav>
</div>

<h2>
<a name="introduction" class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Introduction</h2>
<p>primesieve is written in C++03 and multi-threading is implemented using
<a href="http://openmp.org">OpenMP</a> (2.0 or later). OpenMP is optional but
if your compiler supports it it will be enabled by default. primesieve is very
portable, it runs on both little and big endian CPUs and has been tested
extensively on x86, x86-64, ARM and PowerPC CPUs. primesieve relies on the GNU
Build System on Unix-like operating systems and on nmake on Windows (Visual
C++). The <a href="mailto:kim.walisch@gmail.com">author</a> has successfully
built primesieve on Windows, Cygwin, MinGW, Linux, Mac OS X, BSD and Solaris.</p>

<h2>
<a name="build_unix" class="anchor" href="#build_unix"><span class="octicon octicon-link"></span></a>Build instructions UNIX-like operating systems</h2>
<p>In order to build primesieve you need to have installed a C++ compiler and
GNU make. Download the latest primesieve release tarball
(<a href="https://github.com/kimwalisch/primesieve/zipball/master" class="download_zip">.zip</a>,
<a href="https://github.com/kimwalisch/primesieve/tarball/master" class="download_targz">.tar.gz</a>),
open a terminal, unzip the source archive and cd into the newly created
directory. Then build and install primesieve using:</p>
<div class="highlight highlight-sh"><pre><span class="nv">$ </span>./configure
<span class="nv">$ </span>make
<span class="nv">$ </span>sudo make install
</pre></div>
<p>This builds and installs the primesieve command-line program and libprimesieve.</p>

<h2>
<a name="build_msvc" class="anchor" href="#build_msvc"><span class="octicon octicon-link"></span></a>Build instructions Microsoft Visual C++</h2>
(<a href="https://github.com/kimwalisch/primesieve/zipball/master" class="download_zip">.zip</a>,
<a href="https://github.com/kimwalisch/primesieve/tarball/master" class="download_targz">.tar.gz</a>),
<p>Download the latest primesieve source archive
unzip the source archive, open a 'Visual Studio Command Prompt' and cd into the
newly created directory. Then build primesieve using:</p>
<div class="highlight highlight-sh"><pre>
<span class="nv">> </span>nmake -f Makefile.msvc
</pre></div>
<p>This builds the primesieve command-line program and primesieve.lib.</p>

<h2>
<a name="primesieve-console-application" class="anchor" href="#primesieve-console-application"><span class="octicon octicon-link"></span></a>primesieve console application</h2>

<p>The primesieve console application can print and count primes and
prime k-tuplets and find the nth prime. Below are a few usage examples:</p>

<div class="highlight highlight-bash"><pre><span class="c"># Print the primes below 1000000 to the standard output</span>
<span class="nv">$ </span>primesieve 1000000 --print

<span class="c"># Print the twin primes below 1000000 to the standard output</span>
<span class="nv">$ </span>primesieve 1000000 --print<span class="o">=</span>2

<span class="c"># Count the primes below 1e10 using all CPU cores</span>
<span class="nv">$ </span>primesieve 1e10 --count

<span class="c"># Count the primes within [1e10, 2e10] using 4 threads</span>
<span class="nv">$ </span>primesieve 1e10 2e10 --count --threads<span class="o">=</span>4

<span class="c"># Print an option summary</span>
<span class="nv">$ </span>primesieve --help
</pre></div>

<h2>
<a name="primesieve-cpp-library" class="anchor" href="#primesieve-cpp-library"><span class="octicon octicon-link"></span></a>primesieve C++ library</h2>

<p>primesieve can easily be used in C++ programs to generate prime numbers,
below is an example. primesieve's API is documented
online at <a href="http://primesieve.org/api">http://primesieve.org/api</a>. The
<a href="https://github.com/kimwalisch/primesieve/blob/master/INSTALL">INSTALL</a>
file explains how to link against libprimesieve.</p>

<div class="highlight highlight-C++"><pre><span class="cp">#include &lt;primesieve.hpp&gt;</span>
<span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;vector&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="c1">// store the primes below 1000</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">primes</span><span class="p">;</span>
  <span class="n">primesieve</span><span class="o">::</span><span class="n">generate_primes</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">primes</span><span class="p">);</span>

  <span class="n">primesieve</span><span class="o">::</span><span class="n">iterator</span> <span class="n">pi</span><span class="p">;</span>
  <span class="kt">uint64_t</span> <span class="n">prime</span><span class="p">;</span>

  <span class="c1">// iterate over the primes below 10^9</span>
  <span class="k">while</span> <span class="p">((</span><span class="n">prime</span> <span class="o">=</span> <span class="n">pi</span><span class="p">.</span><span class="n">next_prime</span><span class="p">())</span> <span class="o">&lt;</span> <span class="mi">1000000000</span><span class="p">)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">prime</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<h2>
<a name="primesieve-c-bindings" class="anchor" href="#primesieve-c-bindings"><span class="octicon octicon-link"></span></a>primesieve C bindings</h2>

<p>All of primesieve's functions are exposed as C API via the
primesieve.h header. You can browse primesieve's C API online
at <a href="http://primesieve.org/api">http://primesieve.org/api</a>. The
<a href="https://github.com/kimwalisch/primesieve/blob/master/INSTALL">INSTALL</a>
file explains how to link against libprimesieve.</p>

<div class="highlight highlight-C"><pre><span class="cp">#include &lt;primesieve.h&gt;</span>
<span class="cp">#include &lt;stdint.h&gt;</span>
<span class="cp">#include &lt;stdio.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">uint64_t</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">uint64_t</span> <span class="n">stop</span> <span class="o">=</span> <span class="mi">10000</span><span class="p">;</span>
  <span class="kt">size_t</span> <span class="n">i</span><span class="p">;</span>
  <span class="kt">size_t</span> <span class="n">size</span><span class="p">;</span>

  <span class="cm">/* store the primes below 10000 */</span>
  <span class="kt">int</span><span class="o">*</span> <span class="n">primes</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span> <span class="n">primesieve_generate_primes</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">size</span><span class="p">,</span> <span class="n">INT_PRIMES</span><span class="p">);</span>

  <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%i</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">primes</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>

  <span class="cm">/* deallocate primes array generated using primesieve */</span>
  <span class="n">primesieve_free</span><span class="p">(</span><span class="n">primes</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

        </section>

        <aside id="sidebar">
          <a href="https://github.com/kimwalisch/primesieve/zipball/master" class="download_zip button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/kimwalisch/primesieve/tarball/master" class="download_targz button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/kimwalisch/primesieve"></a> is maintained by <a href="https://github.com/kimwalisch">kimwalisch</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

    <script src="javascripts/jquery-1.7.1.min.js" type="text/javascript"></script> 
    <script src="javascripts/modernizr-2.0.6.min.js" type="text/javascript"></script>
    <script src="javascripts/download.js" type="text/javascript"></script>
  </body>
</html>
